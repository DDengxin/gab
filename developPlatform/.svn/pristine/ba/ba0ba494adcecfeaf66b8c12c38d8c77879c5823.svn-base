package com.tengzhi.business.project.projectArchives.projectTreams.controller;

import com.tengzhi.base.jpa.dto.BaseDto;
import com.tengzhi.base.jpa.result.Result;
import com.tengzhi.business.project.projectArchives.projectTreams.model.EXmXmxz;
import com.tengzhi.business.project.projectArchives.projectTreams.service.ProjectTreamService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.servlet.ModelAndView;

import javax.websocket.server.PathParam;

@RestController
@RequestMapping("/project/projectArchives/projectTream")
public class ProjectTreamController {
    @Autowired
    private ProjectTreamService projectTreamService;

    @GetMapping(value="/*.html")
    public ModelAndView pageForward(ModelAndView mv) {
        return mv;
    }

    @PostMapping(value = "/getList")
    public Result getList(BaseDto baseDto){
        return projectTreamService.findAll(baseDto).getResult();
    }
    @PostMapping(value = "/add")
    public Result add(@RequestBody EXmXmxz eXmXmxz){
        return  Result.resultOk(projectTreamService.save(eXmXmxz));
    }
    @GetMapping(value = "/byXmId/{xmId}")
    public Result getByXmId(@PathVariable String xmId){
        return Result.resultOk(projectTreamService.getByXmId(xmId));
    }
    @PutMapping(value = "/add")
    public Result Modify(@RequestBody EXmXmxz eXmXmxz){
        projectTreamService.update(eXmXmxz);
        return Result.resultOk(eXmXmxz.getXmId());
    }
    @DeleteMapping(value = "/delete/{xmId}")
    public Result delete(@PathVariable String xmId){
        projectTreamService.deleteByXmId(xmId);
        return Result.resultOk();
    }





}
